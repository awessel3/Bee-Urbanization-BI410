---
title: "Bee_Analysis"
output: html_document
date: "2024-11-21"
---

```{r setup, include=FALSE}
library(lubridate)
library(tidyverse)
library(sp)
library(sf)
library(raster)
library(prism)
library(terra)
library(lme4)
library(lmerTest)
setwd("~/Bee-Urbanization-BI410")

complete_bee_data <- read_rds("Data/final_bee_dataset")
```

## Adding urbanization levels 

```{r}

```

## 

```{r}
complete_bee_data <- complete_bee_data %>%
  rowwise() %>%
  mutate(springTemp = mean(c_across(c("tmean_6", "tmean_7", 
                                      "tmean_8", "tmean_9", "tmean_10")), na.rm = TRUE)) %>%
  ungroup()

dat <- data.frame(
  DOY = complete_bee_data$DOY,
  springTemp = complete_bee_data$springTemp,
  urbanizationLevel = complete_bee_data$urbanization_level,
  species = complete_bee_data$Species,
)


formula <- DOY ~ 1 + urbanizationLevel + springTemp + (species | 1)

model1 <- lmer(formula, data = dat)

```


