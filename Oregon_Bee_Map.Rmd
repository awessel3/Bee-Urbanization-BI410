---
title: "Bee Oregon Map Figure"
output: html_document
date: "2024-11-26"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(dplyr)
library(ggplot2)
library(terra)
library(sf)

```

```{r Bombus observations across oregon}
complete_bee_data <- read_rds("Data/final_bee_dataset")

# making our data into a shapefile for plotting
bombus_shp <- st_as_sf(complete_bee_data,
                                   coords = c("Dec..Long.", "Dec..Lat."),
                                   crs = st_crs("EPSG:4326"), na.fail = FALSE	
)

# downloading in the Oregon base map 
or <- map_data("county", "oregon")%>% 
  select(lon = long, lat, group, id = subregion)

# plotting!
ggplot() +
  geom_polygon(data=or, aes(x=lon, y=lat, group=group)) +
  geom_sf(data = bombus_shp, aes(color = Species)) +
  scale_color_viridis_d(name = "Species") + 
  ggtitle("4 Bombus sp. Observations Across Oregon") + 
  scale_color_manual(
    values = c("red", "white", "forestgreen", "violet"), # Custom colors for each species
    name = "Species"
  ) 
```

```{r Census Blocks Plot}

census_shp <- st_read("Data/CensusBlockGroups/CensusBlockGroups.shp")

ggplot() +
   # census block layer
  geom_sf(data = census_shp, aes(fill = POP20)) + 
  # filling the blocks based on population AND adding legend for this (using a binned color scale)
  scale_fill_viridis_c(option="turbo", name = "Population") + ggtitle("Census Blocks of Oregon ") +
  xlab("lon") + ylab("lat")
   
```
```{r climate plot?}


```
