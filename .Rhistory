library(tidyverse)
library(tidyverse)
setwd("~/Bee-Urbanization-BI41")
bee_data <- read.csv("OBA_2018-2023_combined_dataset_working.csv")
melanopygus <- bee_data[bee_data$Species == "melanopygus"]
lignaria <- bee_data[bee_data$Species == "lignaria", ]
melanopygus <- bee_data[bee_data$Species == "melanopygus"]
unique(bee_data$Species)
melanopygus <- bee_data[bee_data$Species == "melanopygus"]
melanopygus <- bee_data[bee_data$Species == "melanopygus",]
melanopygus
rownames(melanopygus)
library(tidyverse)
setwd("~/Bee-Urbanization-BI41")
getwd()
library(tidyverse)
bee_data <- read.csv("OBA_2018-2023_combined_dataset_working.csv")
bee_data <- read.csv("OBA_2018-2023_combined_dataset_working.csv")
head(bee_data)
vosenesenskii <- bee_data[bee_data$Species == "vosnesenskii", ]
#lignaria <- bee_data[bee_data$Species == "lignaria", ]
melanopygus <- bee_data[bee_data$Species == "melanopygus",]
rownames(melanopygus)
melanopygus
View(melanopygus)
# want to just keep our species from the main dataframe
filtered_bee_data <- bee_data[bee_data$Species %in% c("vosnesenskii", "melanopygus"), ]
filtered_bee_data
vosenesenskii
melanopygus
vosenesenskii
filtered_bee_data
# want to keep Dec..Lat. and Dec..Long. and Collection.Date and Collection.Day.1
# https://stackoverflow.com/questions/50990412/select-remove-columns-under-conditions-in-dplyr-filter-columns-r
filtered_bee_data <- filtered_bee_data %>%
select(Dec..Lat., Dec..Long., Collection.Date, Collection.Day.1)
filtered_bee_data
# want to just keep our species from the main dataframe
filtered_bee_data <- bee_data[bee_data$Species %in% c("vosnesenskii", "melanopygus"), ]
filtered_bee_data
colnames(filtered_bee_data)
# want to keep Dec..Lat. and Dec..Long. and Collection.Date and Collection.Day.1
# https://stackoverflow.com/questions/50990412/select-remove-columns-under-conditions-in-dplyr-filter-columns-r
filtered_bee_data <- filtered_bee_data %>%
select(Dec..Lat., Dec..Long., Collection.Date, Collection.Day.1, Genus, Species)
filtered_bee_data
# want to keep Dec..Lat. and Dec..Long. and Collection.Date and Collection.Day.1
# https://stackoverflow.com/questions/50990412/select-remove-columns-under-conditions-in-dplyr-filter-columns-r
filtered_bee_data <- filtered_bee_data %>%
select(Dec..Lat., Dec..Long., Collection.Date, Collection.Day.1, Species)
filtered_bee_data
filtered_bee_data <- bee_data[bee_data$Species %in% c("vosnesenskii", "melanopygus"), ]
colnames(filtered_bee_data)
filtered_bee_data
# want to keep Dec..Lat. and Dec..Long. and Collection.Date and Collection.Day.1
# https://stackoverflow.com/questions/50990412/select-remove-columns-under-conditions-in-dplyr-filter-columns-r
filtered_bee_data <- filtered_bee_data %>%
select(Dec..Lat., Dec..Long., Collection.Date, Collection.Day.2, Species)
filtered_bee_data
bee_data <- read.csv("OBA_2018-2023_combined_dataset_working.csv")
bee_data <- read.csv("OBA_2018-2023_combined_dataset_working.csv")
head(bee_data)
# want to just keep our species from the main dataframe
filtered_bee_data <- bee_data[bee_data$Species %in% c("vosnesenskii", "melanopygus"), ]
filtered_bee_data
# want to keep Dec..Lat. and Dec..Long. and Collection.Date and Collection.Day.1
# https://stackoverflow.com/questions/50990412/select-remove-columns-under-conditions-in-dplyr-filter-columns-r
filtered_bee_data <- filtered_bee_data %>%
select(Dec..Lat., Dec..Long., Collection.Date, Species)
filtered_bee_data
# want to just keep our species from the main dataframe
filtered_bee_data <- bee_data[bee_data$Species %in% c("vosnesenskii", "melanopygus"), ]
filtered_bee_data
# want to keep Dec..Lat. and Dec..Long. and Collection.Date and Collection.Day.1
# https://stackoverflow.com/questions/50990412/select-remove-columns-under-conditions-in-dplyr-filter-columns-r
filtered_bee_data <- filtered_bee_data %>%
select(Dec..Lat., Dec..Long., Collection.Date, Species, Year.1)
filtered_bee_data
head(filtered_bee_data)
rows_with_na <- rowSums(is.na(filtered_bee_data)) > 0
rows_with_na
# Display rows with NA
filtered_bee_data[rows_with_na, ]
# removing these rows
na.omit(filtered_bee_data)
# want to keep Dec..Lat. and Dec..Long. and Collection.Date and Collection.Day.1
# https://stackoverflow.com/questions/50990412/select-remove-columns-under-conditions-in-dplyr-filter-columns-r
filtered_bee_data <- filtered_bee_data %>%
select(Dec..Lat., Dec..Long., Collection.Date, Species, Year.1)
head(filtered_bee_data)
filtered_bee_data
# exploring what rows have na values
rows_with_na <- rowSums(is.na(filtered_bee_data)) > 0
# Display rows with NA
filtered_bee_data[rows_with_na, ]
# removing these rows
na.omit(filtered_bee_data)
install.packages("lubridate")
#install.packages("lubridate")\
library(lubridate)
calc_day_of_year <- function(date){
# converting the string object to a Date object
# parses mm/dd/yyyy
date <- mdy(date)
# get day of year
day_of_year <- yday(date)
return (day_of_year)
}
# want to just keep our species from the main dataframe
filtered_bee_data <- bee_data[bee_data$Species %in% c("vosnesenskii", "melanopygus"), ]
colnames(filtered_bee_data)
head(filtered_bee_data)
# exploring what rows have na values
rows_with_na <- rowSums(is.na(filtered_bee_data)) > 0
# Display rows with NA
filtered_bee_data[rows_with_na, ]
# removing these na rows
na.omit(filtered_bee_data)
filtered_bee_data
#install.packages("lubridate")\
library(lubridate)
library(tidyverse)
library(tidyverse)
setwd("~/Bee-Urbanization-BI41")
# want to just keep our species from the main dataframe
filtered_bee_data <- bee_data[bee_data$Species %in% c("vosnesenskii", "melanopygus"), ]
# want to keep Dec..Lat. and Dec..Long. and Collection.Date and Collection.Day.1
# https://stackoverflow.com/questions/50990412/select-remove-columns-under-conditions-in-dplyr-filter-columns-r
filtered_bee_data <- filtered_bee_data %>%
select(Dec..Lat., Dec..Long., Collection.Date, Species, Year.1)
# exploring what rows have na values
rows_with_na <- rowSums(is.na(filtered_bee_data)) > 0
# Display rows with NA
filtered_bee_data[rows_with_na, ]
# removing these na rows
na.omit(filtered_bee_data)
# removing these na rows
filtered_bee_data <- na.omit(filtered_bee_data)
calc_day_of_year <- function(date){
# converting the string object to a Date object
# parses mm/dd/yyyy
date <- mdy(date)
# get day of year
day_of_year <- yday(date)
return (day_of_year)
}
lapply(filtered_bee_data$Collection.Date, calc_day_of_year)
filtered_bee_data <- mutate (filtered_bee_data$Collection.Date, DOY = calc_day_of_year)
filtered_bee_data$Collection.Date
filtered_bee_data <- mutate(filtered_bee_data, DOY = calc_day_of_year(Collection.Date))
filtered_bee_data
rows_with_na <- rowSums(is.na(filtered_bee_data)) > 0
filtered_bee_data[rows_with_na, ]
vosenesenskii
View(vosenesenskii)
filtered_bee_data[4]
filtered_bee_data[,4]
filtered_bee_data[3]
filtered_bee_data[18851,3]
filtered_bee_data[3,3]
rows_with_na <- rowSums(is.na(filtered_bee_data)) > 0
filtered_bee_data[rows_with_na, ]
filtered_bee_data
filtered_bee_data <- mutate(filtered_bee_data, DOY = calc_day_of_year(Collection.Date))
rows_with_na <- rowSums(is.na(filtered_bee_data)) > 0
filtered_bee_data[rows_with_na, ]
filtered_bee_data[2,3]
filtered_bee_data
filtered_bee_data[rows_with_na, ]
filtered_bee_data[18851,3]
filtered_bee_data[18850,3]
rows_with_na <- rowSums(is.na(filtered_bee_data)) > 0
filtered_bee_data[rows_with_na, ]
# row 18851 had Collection.Date of 2019-6-31
# changing this to 6/31/2019
filtered_bee_data[filtered_bee_data$Collection.Date==2019-6-31, ] <- 6/31/2019
filtered_bee_data <- mutate(filtered_bee_data, DOY = calc_day_of_year(Collection.Date))
rows_with_na <- rowSums(is.na(filtered_bee_data)) > 0
filtered_bee_data[rows_with_na, ]
filtered_bee_data <- mutate(filtered_bee_data, DOY = calc_day_of_year(Collection.Date))
filtered_bee_data
filtered_bee_data <- na.omit(filtered_bee_data)
filtered_bee_data
census <- read.csv("CensusBlockGroups.csv)
census <- read.csv("CensusBlockGroups.csv")
census <- read.csv("CensusBlockGroups.csv")
census
